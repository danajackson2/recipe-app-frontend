(this["webpackJsonprecipe-app-frontend"]=this["webpackJsonprecipe-app-frontend"]||[]).push([[0],{62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n.n(c),i=n(22),r=n.n(i),a=(n(62),n(18)),o=n(20),j=n(8),l=n(37),u=n(7),d=(n(63),n(64),n(85)),h=n(87),b=n(84),O=n(52),m=n(1),x=function(e){var t=e.user,n=e.signIn,s=e.signUp,i=e.signOut,r=Object(c.useState)(""),a=Object(j.a)(r,2),o=a[0],l=a[1],u=Object(c.useState)(""),x=Object(j.a)(u,2),f=x[0],p=x[1];function g(e,t){e||(document.querySelectorAll(".input-item.".concat(t)).forEach((function(e){return e.value=""})),l(""),p(""))}return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(d.a,{bg:"primary",className:"justify-content-between",children:[Object(m.jsx)(O.LinkContainer,{exact:!0,to:"/",children:Object(m.jsx)(d.a.Brand,{id:"brand",children:"\ud83c\udf73 Get Cookin'"})}),"username"in t?Object(m.jsxs)("div",{style:{display:"flex"},children:[Object(m.jsxs)("h4",{id:"welcome",children:["Hi, ",Object(m.jsx)("a",{id:"name-link",href:"/users/".concat(t.user_id),children:t.username}),"!"]}),Object(m.jsx)(h.a,{children:Object(m.jsx)("button",{onClick:i,className:"btn btn-primary",children:"Sign Out"})})]}):Object(m.jsxs)(h.a,{children:[Object(m.jsxs)(b.a,{onToggle:function(e){return g(e,"sign-in")},children:[Object(m.jsx)(b.a.Toggle,{variant:"primary",id:"dropdown-basic",children:"Sign In"}),Object(m.jsx)(b.a.Menu,{align:"right",children:Object(m.jsxs)("div",{className:"login-div",children:[Object(m.jsx)("input",{onChange:function(e){return l(e.target.value)},className:"input-item sign-in",placeholder:"username"}),Object(m.jsx)("input",{onChange:function(e){return p(e.target.value)},className:"input-item sign-in",placeholder:"password",type:"password"}),Object(m.jsx)("button",{onClick:function(){return n(o,f)},className:"btn",children:"Submit"})]})})]}),Object(m.jsxs)(b.a,{onToggle:function(e){return g(e,"sign-up")},children:[Object(m.jsx)(b.a.Toggle,{variant:"primary",id:"dropdown-basic",children:"Sign Up"}),Object(m.jsx)(b.a.Menu,{align:"right",children:Object(m.jsxs)("div",{className:"login-div",children:[Object(m.jsx)("input",{onChange:function(e){return l(e.target.value)},className:"input-item sign-up",placeholder:"username"}),Object(m.jsx)("input",{onChange:function(e){return p(e.target.value)},className:"input-item sign-up",placeholder:"password",type:"password"}),Object(m.jsx)("button",{onClick:function(){return s(o,f)},className:"btn",children:"Submit"})]})})]})]})]})})},f=n(81),p=n(86),g=n(57),k=n(10),v=n(30),y=n(26),N=function(e){var t=e.formOpen,n=e.setFormOpen,c=e.filters,s=e.setFilters,i=e.sort,r=e.setSort,o=e.sortDirection,j=e.setSortDirection;return Object(m.jsxs)("div",{className:"feedbar d-flex justify-content-between",children:[Object(m.jsx)(p.a,{style:{width:"80%"},className:"ml-3",children:Object(m.jsxs)(p.a.Row,{children:[Object(m.jsx)(g.a,{xs:"auto",children:Object(m.jsx)("p",{children:"Sort by:"})}),Object(m.jsx)(g.a,{xs:"auto",children:Object(m.jsx)(p.a.Control,{as:"select",size:"sm",value:i,onChange:function(e){return r(e.target.value)},children:["Date","Likes"].map((function(e){return Object(m.jsx)("option",{children:e})}))})}),Object(m.jsx)(g.a,{xs:"auto",children:Object(m.jsx)(k.a,{className:"feedbar-icon",icon:"desc"===o?v.a:v.b,onClick:function(){j("desc"===o?"asc":"desc")}})}),Object(m.jsx)(g.a,{xs:"auto",children:Object(m.jsx)("p",{className:"ml-2",children:"Filters:"})}),Object(m.jsx)(g.a,{xs:"auto",children:Object(m.jsx)("p",{children:"Liked"})}),Object(m.jsx)(g.a,{xs:"auto",children:c.some((function(e){return"liked"===e}))?Object(m.jsx)(k.a,{className:"feedbar-icon",icon:y.a,onClick:function(){return s(c.filter((function(e){return"liked"!==e})))}}):Object(m.jsx)(k.a,{className:"feedbar-icon",icon:y.c,onClick:function(){return s([].concat(Object(a.a)(c),["liked"]))}})}),Object(m.jsx)(g.a,{xs:"auto",children:Object(m.jsx)("p",{className:"ml-1",children:"Your Recipes"})}),Object(m.jsx)(g.a,{xs:"auto",children:c.some((function(e){return"yours"===e}))?Object(m.jsx)(k.a,{className:"feedbar-icon",icon:y.a,onClick:function(){return s(c.filter((function(e){return"yours"!==e})))}}):Object(m.jsx)(k.a,{className:"feedbar-icon",icon:y.c,onClick:function(){return s([].concat(Object(a.a)(c),["yours"]))}})})]})}),Object(m.jsx)("div",{className:"feedbar-icon mr-3",onClick:function(){return n(!t)},children:t?Object(m.jsx)(k.a,{icon:v.e}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(k.a,{icon:v.c}),Object(m.jsx)(k.a,{icon:v.d,size:"sm"})]})})]})},S=n(88),w=n(56),C=function(e){var t=e.user_id,n=e.fetchRecipes,s=e.setFormOpen,i=Object(c.useState)(""),r=Object(j.a)(i,2),o=r[0],l=r[1],u=Object(c.useState)(""),d=Object(j.a)(u,2),h=d[0],b=d[1],O=Object(c.useState)(""),x=Object(j.a)(O,2),v=x[0],N=x[1],C=Object(c.useState)(""),_=Object(j.a)(C,2),R=_[0],L=_[1],I=Object(c.useState)([{name:"",quantity_type:"",quantity:0}]),T=Object(j.a)(I,2),P=T[0],F=T[1],q=function(){return""===o||""===h||""===v||""===R?(alert("Must fill out all form fields"),!1):!P.some((function(e){return""===e.name||0===e.quantity}))||(alert("Must fill out all form fields"),!1)},B=["N/A","Tbsp","Tsp","Cups","Pints","Quarts","Gallons","Ounces","Pounds"],D=function(e){var t=Object(a.a)(P);t[e.target.id][e.target.name]=e.target.value,F(t)};return Object(m.jsx)(f.a,{children:Object(m.jsx)(S.a,{className:"px-4 pb-4 mt-4",children:Object(m.jsxs)(p.a,{className:"mt-4",onSubmit:function(e){e.preventDefault(),q()&&fetch("".concat("https://git.heroku.com/cookin-backend.git","/recipes"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.token)},body:JSON.stringify({user_id:t,name:o,description:h,recipe_items:P,instructions:v,img:R})}).then((function(e){return e.json()})).then((function(e){return n()})).then((function(){s(!1),l(""),N(""),L(""),F([{name:"",quantity_type:"",quantity:0}])}))},children:[Object(m.jsx)(p.a.Row,{children:Object(m.jsx)("h2",{className:"orange",children:"New Recipe"})}),Object(m.jsx)("hr",{}),Object(m.jsxs)(p.a.Row,{className:"mb-2",children:[Object(m.jsx)(p.a.Label,{column:"xs",xs:3,children:Object(m.jsx)("h5",{children:"Recipe Name:"})}),Object(m.jsx)(g.a,{xs:9,children:Object(m.jsx)(p.a.Control,{size:"lg",type:"text",placeholder:"Let's give this masterpiece a name",value:o,onChange:function(e){return l(e.target.value)}})})]}),Object(m.jsxs)(p.a.Row,{children:[Object(m.jsxs)(p.a.Label,{column:"xs",xs:3,children:[Object(m.jsx)("h5",{children:"Description:"}),Object(m.jsxs)("p",{className:"recipeform-remainingchars",children:[140-h.length," ",140-h.length===1?"char":"chars"," remaining"]})]}),Object(m.jsx)(g.a,{xs:9,children:Object(m.jsx)(p.a.Control,{size:"lg",as:"textarea",rows:4,placeholder:"Tell us about this beauty",value:h,onChange:function(e){e.target.value.length<=140&&b(e.target.value)}})})]}),Object(m.jsx)("hr",{}),Object(m.jsx)(p.a.Row,{children:Object(m.jsx)(g.a,{children:Object(m.jsx)("h4",{className:"orange",children:"Ingredients:"})})}),Object(m.jsxs)(p.a.Row,{children:[Object(m.jsx)(g.a,{xs:4,children:Object(m.jsx)(p.a.Label,{children:Object(m.jsx)("h4",{children:"Name"})})}),Object(m.jsx)(g.a,{xs:4,children:Object(m.jsx)(p.a.Label,{children:Object(m.jsx)("h4",{children:"Units"})})}),Object(m.jsx)(g.a,{xs:3,children:Object(m.jsx)(p.a.Label,{children:Object(m.jsx)("h4",{children:"Quantity"})})})]}),Object.keys(P).map((function(e){return Object(m.jsxs)(p.a.Row,{className:"mt-1",children:[Object(m.jsx)(g.a,{xs:4,children:Object(m.jsx)(p.a.Control,{id:e,name:"name",value:P[e].name,onChange:D})}),Object(m.jsx)(g.a,{xs:4,children:Object(m.jsx)(p.a.Control,{as:"select",id:e,name:"quantity_type",options:B,value:P[e].quantity_type,onChange:D,children:B.map((function(e){return Object(m.jsx)("option",{children:e},"".concat(e,"-").concat(Math.random()))}))})}),Object(m.jsx)(g.a,{xs:3,children:Object(m.jsx)(p.a.Control,{id:e,name:"quantity",value:P[e].quantity,onChange:D})}),Object(m.jsx)(g.a,{xs:1,className:"icon-col",children:Object(m.jsx)(k.a,{id:e,onClick:function(){return function(e){console.log(e);for(var t=[],n=0;n<P.length;n++)n<parseInt(e)?t[n]=P[n]:n>parseInt(e)&&(t[n-1]=P[n]);F(t)}(e)},icon:y.b,size:"lg",className:"recipeform-minus mt-2"})})]},e)})),Object(m.jsx)("div",{className:"mt-3 d-flex justify-content-end",children:Object(m.jsx)(w.a,{variant:"secondary",onClick:function(){F([].concat(Object(a.a)(P),[{name:"",quantity_type:"",quantity:0}]))},children:"Add Ingredient"})}),Object(m.jsx)("hr",{}),Object(m.jsx)(p.a.Row,{children:Object(m.jsx)(g.a,{children:Object(m.jsx)("h4",{className:"orange",children:"Instructions:"})})}),Object(m.jsx)(p.a.Row,{className:"mb-3",children:Object(m.jsx)(g.a,{children:Object(m.jsx)(p.a.Control,{as:"textarea",rows:4,placeholder:"Teach your friends how to make this at home",value:v,onChange:function(e){return N(e.target.value)}})})}),Object(m.jsx)("hr",{}),Object(m.jsxs)(p.a.Row,{children:[Object(m.jsx)(g.a,{xs:4,md:3,lg:2,children:Object(m.jsx)(p.a.Label,{children:Object(m.jsx)("h5",{children:"Image URL:"})})}),Object(m.jsx)(g.a,{xs:8,md:9,lg:10,children:Object(m.jsx)(p.a.Control,{type:"text",placeholder:"Pics or it didn't happen",value:R,onChange:function(e){return L(e.target.value)}})})]}),Object(m.jsx)("div",{className:"d-flex justify-content-end mt-2",children:Object(m.jsx)(w.a,{type:"submit",children:"Submit"})})]})})})},_=function(e){var t=e.recipe,n=e.routerProps;return Object(m.jsxs)(S.a,{className:"feedcard my-3 mx-3",onClick:function(){n.history.push("/recipes/".concat(t.id))},children:[Object(m.jsx)(S.a.Img,{variant:"top",src:t.img,className:"feedcard-image"}),Object(m.jsxs)(S.a.Body,{children:[Object(m.jsx)(S.a.Title,{className:"feedcard-title",children:t.name}),Object(m.jsx)(S.a.Text,{children:t.description})]}),Object(m.jsxs)("div",{className:"ml-3 mr-3 d-flex justify-content-between",children:[Object(m.jsx)("p",{children:"\u2764\ufe0f "+t.likes}),Object(m.jsx)("p",{children:function(e){var t=e.split("-");return"".concat(t[1],"-").concat(t[2],"-").concat(t[0])}(t.created_at)})]})]})},R=function(e){var t=e.recipes,n=e.user_id,s=e.username,i=e.user_likes,r=e.fetchRecipes,o=e.routerProps,l=Object(c.useState)(!1),u=Object(j.a)(l,2),d=u[0],h=u[1],b=Object(c.useState)([]),O=Object(j.a)(b,2),x=O[0],p=O[1],g=Object(c.useState)("Date"),k=Object(j.a)(g,2),v=k[0],y=k[1],S=Object(c.useState)("desc"),w=Object(j.a)(S,2),R=w[0],L=w[1];return Object(m.jsxs)(m.Fragment,{children:[n&&Object(m.jsx)(N,{formOpen:d,setFormOpen:h,filters:x,setFilters:p,sort:v,setSort:y,sortDirection:R,setSortDirection:L}),d&&Object(m.jsx)(C,{user_id:n,fetchRecipes:r,setFormOpen:h}),Object(m.jsxs)(f.a,{className:"mt-4",children:[Object(m.jsxs)("h1",{children:[x.some((function(e){return"yours"===e}))&&"Your ","Date"===v?"desc"===R?"Latest":"First":"Likes"===v?"desc"===R?"Most Liked":"Undiscovered":null," ","Recipes ",x.some((function(e){return"liked"===e}))&&"You Like"]}),Object(m.jsx)("div",{className:"d-flex justify-content-center flex-wrap",children:function(){var e,n=Object(a.a)(t);return"Likes"===v&&(e="desc"===R?n.sort((function(e,t){return t.likes-e.likes})):n.sort((function(e,t){return e.likes-t.likes}))),"Date"===v&&(e="desc"===R?n.sort((function(e,t){return e.created_at<t.created_at?1:-1})):n.sort((function(e,t){return t.created_at<e.created_at?1:-1}))),x.some((function(e){return"liked"===e}))&&(e=e.filter((function(e){return i.some((function(t){return t.recipe_id===e.id}))}))),x.some((function(e){return"yours"===e}))&&(e=e.filter((function(e){return e.username===s}))),e.map((function(e){return Object(m.jsx)(_,{recipe:e,routerProps:o},e.id)}))}()})]})]})},L=n(82),I=n(27),T=function(){return Object(m.jsx)("footer",{className:"footer",children:Object(m.jsxs)(f.a,{children:[Object(m.jsx)(L.a,{className:"d-flex justify-content-center",children:Object(m.jsx)("h2",{className:"mt-4 foot-title",children:"Now We're Cookin'"})}),Object(m.jsx)(L.a,{className:"d-flex justify-content-center",children:Object(m.jsxs)("p",{children:["Powered by"," ",Object(m.jsx)(k.a,{icon:I.d,style:{color:"#14abd5"}})," ","React | Styled with"," ",Object(m.jsx)(k.a,{icon:I.a,style:{color:"#8c5ad8"}})," ","Bootstrap"]})}),Object(m.jsxs)(L.a,{children:[Object(m.jsx)(g.a,{sm:4,xs:12,className:"footer-byline",style:{textAlign:"center"},children:Object(m.jsx)("p",{children:"Made by Dana Jackson and Ben Swanson \xa9 2021"})}),Object(m.jsxs)(g.a,{sm:4,xs:12,style:{textAlign:"center"},children:[Object(m.jsx)("a",{href:"mailto:danajackson2@gmail.com",children:"danajackson2@gmail.com"}),Object(m.jsx)("a",{href:"https://github.com/danajackson2/",children:Object(m.jsx)(k.a,{icon:I.b,className:"mx-4"})}),Object(m.jsx)("a",{href:"https://www.linkedin.com/in/danajackson2/",children:Object(m.jsx)(k.a,{icon:I.c})})]}),Object(m.jsxs)(g.a,{sm:4,xs:12,style:{textAlign:"center"},children:[Object(m.jsx)("a",{href:"mailto:bswan0002@gmail.com",children:"bswan0002@gmail.com"}),Object(m.jsx)("a",{href:"https://github.com/bswan0002/",children:Object(m.jsx)(k.a,{icon:I.b,className:"mx-4"})}),Object(m.jsx)("a",{href:"https://www.linkedin.com/in/bswan0002/",children:Object(m.jsx)(k.a,{icon:I.c})})]})]})]})})},P=n(83),F=n(89),q=function(e){var t=e.recipe,n=e.user,s=e.updateUserLikes,i=e.updateRecipeLikes,r=e.fetchRecipes,a=Object(c.useState)(""),o=Object(j.a)(a,2),l=o[0],u=o[1];return Object(m.jsxs)("div",{id:"lc-div",children:[Object(m.jsxs)("div",{className:"like-div",children:[Object(m.jsx)("span",{onClick:function(){if(n.username){var e=n.likes.find((function(e){return e.recipe_id===t.id}));e?fetch("".concat("https://git.heroku.com/cookin-backend.git","/likes/").concat(e.id),{method:"DELETE",headers:{Authorization:"Bearer ".concat(localStorage.token)}}).then((function(e){return e.json()})).then((function(){s(e,"rmv"),i(t.id,"rmv")})):fetch("".concat("https://git.heroku.com/cookin-backend.git","/likes"),{method:"POST",headers:{"content-type":"application/json",Authorization:"Bearer ".concat(localStorage.token)},body:JSON.stringify({like:{user_id:n.user_id,recipe_id:t.id}})}).then((function(e){return e.json()})).then((function(e){s(e,"add"),i(t.id,"add")}))}else alert("Sign in to like a recipe and leave comments.")},id:"like",className:function(){var e;return!!(null===(e=n.likes)||void 0===e?void 0:e.find((function(e){return e.recipe_id===t.id})))}()?"hl":"",children:"\u2764\ufe0f "}),Object(m.jsx)("span",{id:"like-count",children:t.likes})]}),!!n.username&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(p.a,{children:Object(m.jsxs)(p.a.Group,{children:[Object(m.jsx)(p.a.Label,{children:Object(m.jsx)("span",{className:"comment",children:"Leave a comment "})}),Object(m.jsx)(p.a.Control,{onChange:function(e){e.target.value.length<=140&&u(e.target.value)},type:"text",value:l}),Object(m.jsx)(w.a,{onClick:function(){""!==l&&(fetch("".concat("https://git.heroku.com/cookin-backend.git","/comments"),{method:"POST",headers:{"content-type":"application/json",Authorization:"Bearer ".concat(localStorage.token)},body:JSON.stringify({new_comment:{body:l,user_id:n.user_id,recipe_id:t.id}})}).then((function(e){return e.json()})).then((function(){return r()})),u(""))},style:{marginTop:"5px"},children:"Submit"})]})}),Object(m.jsxs)("p",{children:[140-l.length," chars remaining"]})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("span",{className:"comment",children:"Comments"}),Object(m.jsx)("ul",{className:"comment-list",children:t.comments.map((function(e){return Object(m.jsxs)("li",{children:[Object(m.jsxs)("b",{children:[e.username," "]}),'says "',e.body,'"']})}))})]})]})},B=function(e){var t=e.user,n=e.recipe,c=e.updateUserLikes,s=e.updateRecipeLikes,i=e.fetchRecipes;return Object(m.jsx)(f.a,{children:Object(m.jsxs)("div",{className:"px-4 mx-4",children:[Object(m.jsx)(L.a,{className:"justify-content-center recipe-header",children:Object(m.jsx)("h1",{children:n.name})}),Object(m.jsx)(L.a,{className:"justify-content-center",children:Object(m.jsxs)("h3",{children:["by: ",Object(m.jsx)("a",{href:"/users/".concat(n.user_id),id:"rec-name-link",children:n.username})]})}),Object(m.jsx)(L.a,{className:"justify-content-center",children:Object(m.jsx)(P.a,{src:n.img,className:"view-image"})}),Object(m.jsxs)(L.a,{className:"recipe-contents-headers",children:[Object(m.jsxs)(g.a,{children:[Object(m.jsx)("h3",{children:"Ingredients"}),Object(m.jsx)(F.a,{children:n.ingredients.map((function(e){return Object(m.jsxs)(F.a.Item,{variant:"lt-green",children:[Object(m.jsxs)("p",{className:"ingr-item",children:[e.quantity," ",e.quantity_type," ",e.name]})," "]})}))})]}),Object(m.jsxs)(g.a,{children:[Object(m.jsx)("h3",{children:"Instructions"}),Object(m.jsx)("p",{className:"ingr-item",children:n.instructions})]})]}),Object(m.jsx)(L.a,{className:"justify-content-center",children:Object(m.jsx)(q,{fetchRecipes:i,updateUserLikes:c,updateRecipeLikes:s,user:t,recipe:n})})]})})},D=function(e){var t=e.recipes,n=e.selectedUserId,s=e.user,i=e.routerProps,r=Object(c.useState)(""),a=Object(j.a)(r,2),o=a[0],l=a[1];Object(c.useEffect)((function(){var e=t.find((function(e){return e.user_id===n}));e?l(e.username):fetch("".concat("https://git.heroku.com/cookin-backend.git","/users/").concat(n)).then((function(e){return e.json()})).then((function(e){return l(e.username)}))}),[]);var u=function(){return!!s.user_id&&n===s.user_id},d=function(e){var t=e.split("-");return"".concat(t[1],"-").concat(t[2],"-").concat(t[0])};return Object(m.jsxs)("div",{id:"user-view-div",children:[Object(m.jsx)("h1",{id:"user-view-header",children:o}),Object(m.jsxs)("div",{children:[Object(m.jsxs)("h3",{children:[u()?"My":"".concat(o,"'s")," ","Recipes"]}),Object(m.jsx)("div",{className:"d-flex justify-content-center flex-wrap",children:t.filter((function(e){return e.user_id===n})).map((function(e){return Object(m.jsx)(_,{routerProps:i,recipe:e})}))})]}),Object(m.jsxs)("h3",{className:"mt-4",children:["Recipes ",u()?"I've":"".concat(o," has")," liked"]}),Object(m.jsx)("div",{className:"like-scroll",children:t.filter((function(e){return e.who_liked.some((function(e){return e.user_id===n}))})).map((function(e){return Object(m.jsxs)(S.a,{className:"feedcard-sm my-3 mx-3",onClick:function(){return t=e.id,void i.history.push("/recipes/".concat(t));var t},children:[Object(m.jsx)(S.a.Img,{variant:"top",src:e.img,className:"feedcard-sm-image"}),Object(m.jsxs)(S.a.Body,{className:"feedcard-body-sm",children:[Object(m.jsx)(S.a.Title,{className:"feedcard-sm-title",children:e.name}),Object(m.jsx)(S.a.Text,{children:e.description})]}),Object(m.jsxs)("div",{className:"ml-3 mr-3 d-flex justify-content-between",children:[Object(m.jsx)("p",{children:"\u2764\ufe0f "+e.likes}),Object(m.jsx)("p",{children:d(e.created_at)})]})]})}))})]})};var U=function(){var e=Object(c.useState)({}),t=Object(j.a)(e,2),n=t[0],s=t[1],i=Object(c.useState)(JSON.parse(localStorage.getItem("recipes"))||[]),r=Object(j.a)(i,2),d=r[0],h=r[1];Object(c.useEffect)((function(){localStorage.token&&f(localStorage.token),b()}),[]);var b=function(){fetch("".concat("https://git.heroku.com/cookin-backend.git","/recipes"),{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(localStorage.token)}}).then((function(e){return e.json()})).then((function(e){h(e),localStorage.setItem("recipes",JSON.stringify(e))}))},O=function(e){if(e.user_id){var t=e.username,n=e.user_id,c=e.token,i=e.likes;localStorage.setItem("token",c),s({username:t,user_id:n,likes:i})}else alert("Username ".concat(e.username))},f=function(e){fetch("".concat("https://git.heroku.com/cookin-backend.git","/persist"),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){return e.json()})).then((function(e){var t=e.username,n=e.user_id,c=e.likes;s({username:t,user_id:n,likes:c})}))},p=function(e,t){if("rmv"===t){var c=n.likes.filter((function(t){return t.id!==e.id}));s(Object(o.a)(Object(o.a)({},n),{},{likes:c}))}else{var i=[].concat(Object(a.a)(n.likes),[e]);s(Object(o.a)(Object(o.a)({},n),{},{likes:i}))}},g=function(e,t){var n=d.find((function(t){return t.id===e}));n="add"===t?Object(o.a)(Object(o.a)({},n),{},{likes:n.likes+1}):Object(o.a)(Object(o.a)({},n),{},{likes:n.likes-1});var c=d.filter((function(t){return t.id!==e}));c.push(n),h(c)};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"body",children:Object(m.jsxs)(l.BrowserRouter,{children:[Object(m.jsx)(x,{user:n,signIn:function(e,t){fetch("".concat("https://git.heroku.com/cookin-backend.git","/signin"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({username:e,password:t})}).then((function(e){return e.json()})).then((function(e){return O(e)})).then((function(){return b()}))},signUp:function(e,t){fetch("".concat("https://git.heroku.com/cookin-backend.git","/users"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({new_user:{username:e,password:t}})}).then((function(e){return e.json()})).then((function(e){return O(e)})).then((function(){return b()}))},signOut:function(){localStorage.clear(),s({})}}),Object(m.jsx)(u.d,{exact:!0,path:"/recipes/:id",render:function(e){var t=parseInt(e.match.params.id);if(d.find((function(e){return e.id===t})))return Object(m.jsx)(B,{fetchRecipes:b,updateUserLikes:p,updateRecipeLikes:g,user:n,recipe:d.find((function(e){return e.id===t}))})}}),Object(m.jsx)(u.d,{exact:!0,path:"/users/:id",render:function(e){var t=parseInt(e.match.params.id);return Object(m.jsx)(D,{selectedUserId:t,user:n,recipes:d,routerProps:e})}}),Object(m.jsx)(u.d,{exact:!0,path:"/",render:function(e){return Object(m.jsx)(R,{recipes:d,user_id:n.user_id,username:n.username,user_likes:n.likes,fetchRecipes:b,routerProps:e})}})]})}),Object(m.jsx)(T,{})]})},A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,90)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),c(e),s(e),i(e),r(e)}))};r.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(U,{})}),document.getElementById("root")),A()}},[[76,1,2]]]);
//# sourceMappingURL=main.bd4569e1.chunk.js.map